@@include('inc/top.html')
<div id="wrap" class="wrap">
  @@include('inc/header.html')    
  <main id="content" class="main_container">
    @@include('inc/lnb_test_alert.html')    
    <div class="cont_body">
      <header class="tit">
        <h1>개별단말 발령<span>수동발령</span></h1>        
        <section class="bredcrumb">
          <ul>
            <li>
              <a href="#">Home</a>
            </li>
            <li>수동발령</li>
            <li>개별단말 발령</li>
          </ul>
        </section>
      </header>
      <form action="">
        <div>
          <ul class="ipt_lst">
            <li class="full inline">
              <span class="label">재난상황</span>
              <ul class="ipt_groupCheck">
                <li><label for="status_Exercise"><input type="radio" id="status_Exercise" name="status" checked>시험</label></li>
                <li><label for="status_Training"><input type="radio" id="status_Training" name="status">훈련</label></li>
                <li><label for="status_Actual"><input type="radio" id="status_Actual" name="status">실제</label></li>
              </ul>
            </li>
            <li>
              <label for="">발령기관(source):</label>
              <input type="text" value="ㅇㅇ시청 (아마도 고정값)" readonly />
            </li>
            <li class="span2">
              <span class="label">재난유형(event / eventCode):</span>
              <ul class="ipt_group">
                <li><select name="" id="" title="재난유형 대분류" style="--select-width:90px"><option value="">자연재난</option></select></li>
                <li><select name="" id="" title="재난유형 중분류"><option value="">홍수</option></select></li>
                <li><select name="" id="" title="재난유형 소분류"><option value="">홍수주의보</option></select></li>
                <li>&sol; <input type="text" size="1" placeholder="CODE"></li>
              </ul>            
            </li>
            <li>
              <label for="">제목(headline.ko-KR):</label>
              <input type="text">
            </li>   
            <li>
              <span class="label">수신유형(다중선택):</span>
              <ul class="device_type">
                <li><label for=""><input type="checkbox">자동음성통보</label></li>
                <li><label for=""><input type="checkbox">재해문자전광판</label></li>
              </ul>
            </li>
            <li class="full">
              <span class="label">개별 단말장치</span>
              <button type="button" class="btn_default_line" popovertarget="p_select_device">단말장치 선택</button>
              <div class="selected tbl_wrap">
                <table id="selected_lst" class="jq-grid"></table>
              </div>                       
            </li>
          </ul>
          <ul class="ipt_lst">
            <li>
              <label for="">재해문자전광판 40(Text40.ko-KR)</label>
              <textarea name="" id="" wrap="hard" cols="90" rows="1"></textarea>
            </li>
            <li>
              <label for="">재해문자전광판 80(Text80.ko-KR)</label>
              <textarea name="" id="" wrap="hard" cols="90" rows="1"></textarea>
            </li>
            <li class="full">
              <label for="">마을방송(VoiceText.ko-KR)</label>
              <textarea name="" id="" wrap="hard" cols="90" rows="1"></textarea>
            </li>
          </ul>
          <div class="section_bot">
            <div class="tool">
              <button type="button" class="btn_gray_line">초기화</button>
              <button type="submit" class="btn_default">시험발령</button>
            </div>
          </div>
        </div>
      </form>
    </div>  
  </main>
  @@include('inc/footer.html')
</div>
<!-- 단말장치 선택 팝업 -->
<dialog id="p_select_device" class="pop_wrap p_select_device" popover="manual">
  <header class="pop_tit">
    <h1>단말장치 선택</h1>
    <div class="tool">
      <button type="button" class="btn_cross" popovertarget="p_select_device" popvertargetaction="hide">닫기</button>
    </div>
  </header>
  <section class="pop_body flex_vertical_wrap">
    <section>
      <div class="search">
        <form action="" class="search_form">
          <ul class="search_lst">              
            <li>
              <select name="" id="" title="단말기 그룹">
                <option value="">단말기 그룹(공통코드)</option>
              </select>
            </li>
            <li>
              <select name="" id="" title="지역 대분류">
                <option value="">시군구</option>
              </select>
              <select name="" id="" title="지역 중분류">
                <option value="">읍면동</option>
              </select>                
            </li>
            <li><input type="text" placeholder="발령지역" title="발령지역"></li>
          </ul>
          <button type="submit" class="btn_default">검색</button>
        </form>          
      </div>
      <div class="tbl_wrap">
        <table id="group1" class="jq-grid"></table>
      </div>      
    </section>
    <section class="linked_top">
      <div class="tbl_wrap">
        <table id="group2" class="jq-grid"></table>
      </div>
    </section>
  </section>
  <section class="pop_foot">
    <button type="button" class="btn_gray_line">초기화</button>
    <button type="submit" class="btn_default">적용</button>
    <button type="button" class="btn_cancel" popovertarget="p_select_device" popvertargetaction="hide">취소</button>
  </section>
</dialog>
<!-- 단말장치 선택 팝업__e -->
@@include('inc/script.html')
<script>
var mydata = [
    {'t1': '-'},
    {'t1': '-'},
    {'t1': '-'},
    {'t1': '-'},
    {'t1': '-'},
    {'t1': '-'},
    {'t1': '-'},
    {'t1': '-'}
] 
var grid0 = $("#selected_lst").jqGrid({
    data: mydata,
    datatype: "local",      
    colModel: [
      { label: '장치구분', name: 't1', align:'center',width:50 },
      { label: '단말장치그룹', name: 't2', align:'center',width:50 },
      { label: '단말 장치명', name: 't3' },
      { label: '설치지역', name: 't4' },
      { label: '설치주소', name: 't5' },
    ],
    rowNum: mydata.length,
    rownumbers:true,    
    rownumWidth:60,
    _autoHeight:true,
    _maxAutoHeight:140,
    gridComplete: function () {
      $(this).gridResize();
      // rownumber 헤더에 제목 추가
      $("#selected_lst")
        .closest(".ui-jqgrid")
        .find(".ui-jqgrid-htable th.ui-state-default:first")
        .html("<div>순번</div>");
    }
} );
 var grid1 = $("#group1").jqGrid({
    data: mydata,
    datatype: "local",      
    colModel: [
      { label: '장치구분', name: 't1', align:'center' },
      { label: '단말장치그룹', name: 't2', align:'center'},
      { label: '단말 장치명', name: 't3' },
      { label: '설치지역', name: 't4' },
      { label: '설치주소', name: 't5' },
    ],
    height:198,
    rowNum: mydata.length,
    rownumber:true,
    multiselect:true,
    _resizeInPopover:true, //popup 안에 있는 그리드일 때 true
    gridComplete:function(){
      $(this).gridResize();
    }
  })
  var mydata2 = [
    {'btn': 'Del'},
    {'btn': 'Del'},
] 
 var grid2 = $("#group2").jqGrid({
    data: mydata2,
    datatype: "local",      
    colModel: [
      { label: '장치구분', name: 't1', align:'center' },
      { label: '단말장치그룹', name: 't2', align:'center'},
      { label: '단말 장치명', name: 't3' },
      { label: '설치지역', name: 't4' },
      { label: '설치주소', name: 't5' },
      { label: '삭제', name: 'btn',align:'center',
        formatter:formatBtn //ui_temp.js 참고
      },
    ],
    height:197,
    rowNum: mydata.length,
    rownumber:true,
    _resizeInPopover:true, //popup 안에 있는 그리드일 때 true
    gridComplete:function(){
      $(this).gridResize();
    }
  })
</script>
</body>
</html>